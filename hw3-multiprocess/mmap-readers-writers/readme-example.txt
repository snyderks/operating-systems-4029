The reader's result:

./reader test.txt
4444444444
4444444444
4444444444
4444444444
4444444444
4444444444
4444444444
3333333333
4333333333
4444444444
3333333333
4444444444
4444444444
4444444444
9999999999
9999999999
9999999999
9999999999
9999999999
9999999999

-------------------------------------------------------------------------------

Running the writers (50 concurrent instances):

for i in {1..50}; do ./writer test.txt & done;
[51] 59055
[52] 59056
[53] 59057
[54] 59058
[55] 59059
Will be printing 6666666666
Will be printing 5555555555
[56] 59060
Will be printing 7777777777
[57] 59061
Will be printing 9999999999
Will be printing 8888888888
[58] 59062
[59] 59063
[60] 59064
[61] 59065
Will be printing 0000000000
[62] 59066
Will be printing 1111111111
Will be printing 2222222222
Will be printing 3333333333
[63] 59067
Will be printing 5555555555
Will be printing 4444444444
[64] 59068
Will be printing 6666666666
[65] 59069
Will be printing 7777777777
[66] 59070
Will be printing 8888888888
[67] 59071
Will be printing 9999999999
[68] 59072
[69] 59073
Will be printing 0000000000
Will be printing 1111111111
Will be printing 2222222222
Will be printing 3333333333
[70] 59074
[71] 59075
Will be printing 4444444444
[72] 59076
[73] 59077
[74] 59078
Will be printing 5555555555
Will be printing 6666666666
Will be printing 7777777777
[75] 59079
Will be printing 8888888888
[76] 59080
Will be printing 9999999999
[77] 59081
[78] 59082
Will be printing 0000000000
Will be printing 1111111111
[79] 59083
Will be printing 2222222222
[80] 59084
Will be printing 3333333333
[81] 59085
[82] 59086
Will be printing 4444444444
[83] 59087
Will be printing 5555555555
Will be printing 6666666666
[84] 59088
Will be printing 7777777777
[85] 59089
Will be printing 8888888888
[86] 59090
Will be printing 9999999999
[87] 59091
[88] 59092
Will be printing 0000000000
[89] 59093
Will be printing 1111111111
[90] 59094
Will be printing 2222222222
[91] 59095
Will be printing 3333333333
Will be printing 4444444444
[92] 59096
[93] 59097
Will be printing 5555555555
[94] 59098
[95] 59099
Will be printing 6666666666
Will be printing 7777777777
Will be printing 8888888888
[96] 59100
[97] 59101
Will be printing 9999999999
[98] 59102
Will be printing 1111111111
Will be printing 0000000000
[99] 59103
[100] 59104
Will be printing 2222222222
Will be printing 3333333333
Will be printing 4444444444
[1]   Done                    ./writer test.txt
[2]   Done                    ./writer test.txt
[3]   Done                    ./writer test.txt
[4]   Done                    ./writer test.txt
[5]   Done                    ./writer test.txt
[6]   Done                    ./writer test.txt
[7]   Done                    ./writer test.txt
[8]   Done                    ./writer test.txt
[9]   Done                    ./writer test.txt
[10]   Done                    ./writer test.txt
[11]   Done                    ./writer test.txt
[12]   Done                    ./writer test.txt
[13]   Done                    ./writer test.txt
[14]   Done                    ./writer test.txt
[15]   Done                    ./writer test.txt
[16]   Done                    ./writer test.txt
[17]   Done                    ./writer test.txt
[18]   Done                    ./writer test.txt
[19]   Done                    ./writer test.txt
[20]   Done                    ./writer test.txt
[21]   Done                    ./writer test.txt
[22]   Done                    ./writer test.txt
[23]   Done                    ./writer test.txt
[24]   Done                    ./writer test.txt
[25]   Done                    ./writer test.txt
[26]   Done                    ./writer test.txt
[27]   Done                    ./writer test.txt
[28]   Done                    ./writer test.txt
[29]   Done                    ./writer test.txt
[30]   Done                    ./writer test.txt
[31]   Done                    ./writer test.txt
[32]   Done                    ./writer test.txt
[33]   Done                    ./writer test.txt
[34]   Done                    ./writer test.txt
[35]   Done                    ./writer test.txt
[36]   Done                    ./writer test.txt
[37]   Done                    ./writer test.txt
[38]   Done                    ./writer test.txt
[39]   Done                    ./writer test.txt
[40]   Done                    ./writer test.txt
[41]   Done                    ./writer test.txt
[42]   Done                    ./writer test.txt
[43]   Done                    ./writer test.txt
[44]   Done                    ./writer test.txt
[45]   Done                    ./writer test.txt
[46]   Done                    ./writer test.txt
[47]   Done                    ./writer test.txt
[48]   Done                    ./writer test.txt
[49]   Done                    ./writer test.txt
[50]   Done                    ./writer test.txt